{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-5"> Clima actual en Chile</h2>

  <form method="get" class="mb-4 text-center">
    <select name="region" class="form-control d-inline w-auto">
      {% for key, value in regiones.items %}
        <option value="{{ key }}" {% if key == region|lower %}selected{% endif %}>
          {{ key|title }}
        </option>
      {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary ml-2">Consultar</button>
  </form>

  {% if error %}
    <div class="alert alert-danger text-center">{{ error }}</div>
  {% else %}
    <div class="card mx-auto" style="max-width: 400px;">
      <div class="card-body text-center">
        <h5 class="card-title">📍 {{ region }}</h5>
        <p class="card-text">🌡️ <strong>Temperatura:</strong> {{ temperatura }} °C</p>
        <p class="card-text">💨 <strong>Viento:</strong> {{ viento }} km/h</p>
        <p class="card-text">🌥️ <strong>Código de clima:</strong> {{ clima_codigo }}</p>
      </div>
    </div>
  {% endif %}
</div>
{% endblock %}
